<div class="flex flex-col  items-center bg-sky-200 mb-1 p-2">
Truck {{ this.truck.id }} (Usage: {{ this.truck.parcels.length }}/{{ this.truck.slot }}) ({{this.truck.position.x| number : '1.2-2'}}, {{this.truck.position.y| number : '1.2-2'}})
<ul class="flex flex-col justify-start">
  @for (p of truck.parcels; track p.id) {
    <li>
      <div class="slot border min-w-60 min-h-10 inline-block">
        <app-parcel-row [parcel]="p"></app-parcel-row>
      </div>
    </li>
  }
  @for (i of [].constructor(truck.slot - truck.parcels.length); track i) {
    <li>
      <div class="slot border border-dashed min-w-60 min-h-10 inline-block"></div>
    </li>
  }
  <li>
    <button class="hover:border-solid cursor-pointer slot border border-dashed min-w-60 min-h-10 inline-block" (click)="this.newTruckSlot()">New slot
      ({{ this.newSlotPrice()|currency }})
    </button>
  </li>
</ul>
@if (!this.isOnRoad()) {
  <!--  <button (click)="this.fillTruck()">-->
    <!--    Fill truck-->
    <!--  </button>-->
    <!--  <button (click)="this.emptyTruck()">-->
    <!--    Empty truck-->
    <!--  </button>-->

  @if (!this.isParkedTruck()) {
    <button (click)="this.parkTruck()" class="border hover:bg-emerald-700 cursor-pointer rounded-4xl p-2 bg-emerald-600 text-white shadow shadow-amber-600">Park truck</button>
  }
  <div class="flex flex-row flex-wrap">
  @for (l of this.getLockersList(); track l.id) {
    <button class="border hover:bg-emerald-700 cursor-pointer rounded-4xl p-2 bg-emerald-600 text-white shadow shadow-amber-600" (click)="this.goto(l)">
      Send to {{ l.location }}
    </button>
  }
  </div>

  <button class="border hover:bg-emerald-700 cursor-pointer rounded-4xl p-2 bg-emerald-600 text-white shadow shadow-amber-600" (click)="this.deliver()">Deliver</button>
}
  @if (this.truck.parcels.length>0) {
    <button class="border hover:bg-red-900 cursor-pointer rounded-4xl p-2 bg-red-800 text-white shadow shadow-amber-600" (click)="this.dropContent()">
      Drop content
    </button>
  }
</div>
